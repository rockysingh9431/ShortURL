<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }
    </style>
    <title>HomePage</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <h1>URL Shortner</h1>
    <h1>Form to Create to ShortUrl</h1>
    <div>
      <% if (locals.id) { %>
      <p>
        URL Generated:
        <a href="http://localhost:8001/url/<%= id %>"
          >http://localhost:8001/url/<%= id %></a
        >
      </p>
      <% } %>
    </div>
    <div>
      <form method="POST" action="/url">
        <label for="url">Enter your Original url</label>
        <input
          type="text"
          name="url"
          placeholder="https://example.com"
          id="url"
        />
        <button type="submit">Generate</button>
      </form>
    </div>
    <div>
  <h1>Analytics:</h1>
  <% if (locals.urls) { %>
  <table style="border: 2px; border-color: black;">
    <thead>
      <tr>
        <th>S. No</th>
        <th>ShortId</th>
        <th>Redirect</th>
        <th>Clicks</th>
      </tr>
    </thead>
    <tbody>
      <% urls.forEach((url, index) => { %>
      <tr>
        <td><%= index + 1 %></td>
        <td><%= url.ShortId %></td>
        <td style="width: 100px;"><%= url.redirectUrl %></td>
        <td><%= url.visitedHistory.length%></td>
      </tr>
      <% }) %>
    </tbody>
  </table>
  <% } %>
</div>

  </body>
</html>
